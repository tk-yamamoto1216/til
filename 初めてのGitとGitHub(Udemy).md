# Git の仕組み

## 開発の流れ

リポジトリ : 変更履歴を記録する場所
リポジトリに変更を記録することを commit という

commit した後に共有リポジトリに保管する
登録することを push という


## 複数人での開発のながれ

git pull で共有リポジトリの情報を同期
→ 情報をサーバーからパソコンに引っ張る


## プルリクエストによる複数人開発

GitHub にあるコードリポジトリ (コード）　に対して、自分が変更したコードを取り込んでもらえるようにリクエストする機能  
ex ) 修正したので取り込んでもらえないか、機能を追加したので取り込んでもらえないかなどお願いする
コメントもできるので、コードレビューなどで使われる

## ローカルリポジトリの新規作成

ターミナルで git init コマンドでリポジトリの新規作成を行う
.git というフォルダが作成される
→ これが git リポジトリ

# 基本的なワークフロー

① ファイルの変更をステージングエリアへ追加する

・自分のファイルを変更する  
・ git add コマンドを用いて **ステージングエリア** へ追加する

> ステージングエリアとは、コミットする前の控室のようなもの

② ステージングエリアに追加した内容を git commit を用いてローカルリポジトリにコミットする
③ git push でリモートリポジトリにプッシュ  
Git へ push するためにが GitHub でリポジトリを用意する必要がある


## 変更をコミットする流れ

① ファイルを変更したら ステージングエリア へ変更を追加  

「git add (ファイル名）」 で指定したファイルを追加できる
git add . で今あるファイルをまとめて追加できる  

② コミットして変更を記録  

git commit でリポジトリに変更を記録する

※ わかりやすいコミットメッセージを書く  

1行目 変更内容要約  
2行目 空行  
3行目 変更理由　　

git log でコミット履歴を確認できる


## 色々な変更のコミット  
  
削除したファイルをステージングエリアに追加する時には 「git rm (ファイル名)」というコマンドを使う  

## 現在の状況を確認する  

git status コマンドで Git リポジトリの状況を表示する
  → git commit した状態からの変更の差分が表示する
  
## 変更履歴の確認  

git log コマンドでリポジトリにコミットされたログを確認する

```git
commit ハッシュ値
Author: 作成者の名前と email
Date: 日付
 コミットメッセージ
```

それぞれのコミットにハッシュ値があり特定のコミットに戻したいときはハッシュ値を指定して戻すことができる　

### 色々なオプション  

git log --oneline  
git のコミットログを1行で表示することができる　　

git log -p （ファイル名）  
ファイルの変更差分を表示することができる  

git log -n 3
指定した数字分のコミットが表示される

git log --oneline -n 3  
組み合わせることもできる　　
指定した数字分のコミットを1行で表記できる　　

## 変更差分を確認  

git diff で、ローカルとステージング領域のファイルの変更差分を表示できる　　
add, commit する前に確認すべき  

git diff HEAD でステージとコミットの差分を確認できる  

## GitHub にプッシュする  

### リモートリポジトリに登録  

git remote add で、ローカルリポジトリをリモートリポジトリに登録できる  
git remote add origin （リモートリポジトリのURL）

### 登録した内容をリモートリポジトリへ送信  

git push origin master で、ローカルリポジトリの内容をリモートリポジトリへ送信

